import json
import sys

if len(sys.argv) != 3:
    print("Number of arguments incorrect, dimension set to m=64, n=64\n")
    m = 64
    n = 64
else:
    m = int(sys.argv[1])
    n = int(sys.argv[2])

# Add ElGammal parameters to voto_example.json
f = open("voto_example.json")
data = json.load(f)
f.close()

ciphers = []

for answer in data["answers"]:
    for choice in answer["choices"]:
        alpha = int(choice["alpha"])
        beta = int(choice["beta"])
        ciphers.append([alpha, beta])

for i in range(len(ciphers), m*n):
    ciphers.append([0, 0])

input = {
    "generator": 0,
    "modulus": 0,
    "order": 0,
    "public": 0,
    "public_randoms": "",
    "proof": "",
    "original_ciphers": "",
    "mixed_ciphers": ""
}

input["generator"] = 1929181099559129674691211513194785872536670409492790905276619913671396722443243145931673445424440902236760877484211441680348197072495215150053603001343967365713940597148603897520835948403066356627154482171157913975934174689003578096019980791028264452409955094293631742810957258379488668086855090084223965396993821991583550151470397960480522495500106360092070361350077271147228
input["modulus"] = 2093940378184301311653365957372856779274958817946641127345598909177821235333110899157852449358735758089191470831461169154289110965924549400975552759536367817772197222736877807377880197200409316970791234520514702977005806082978079032920444679504632247059010175405894645810064101337094360118559702814823284408560044493630320638017495213077621340331881796467607713650957219938583
input["order"] = 1257206741114416297422800737364843764556936223541
input["public"] = 827256922558461822687710541635304808746505313847010672803889037237343402673786553778265211516148927212520456468538845575078973338097674853081065886595277935381246367518884928942309386939036647055858268752228896627661769497421334346038873755893052291240585979235717417777533874799154774865784625265413604280185004605645363215341716673155870447445538109793009395636815126675717
input["original_ciphers"] = ciphers.__str__()

f = open("ciphers_0.json", "w")
json.dump(input, f)
f.close